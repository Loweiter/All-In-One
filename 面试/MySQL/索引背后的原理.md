https://blog.codinglabs.org/articles/theory-of-mysql-index.html

B+Tree比B-Tree更适合实现外存储索引结构的原理是什么？

`

```
B+树（B+ Tree）和B树（B- Tree）都是平衡树结构，广泛用于数据库和文件系统中作为索引结构。B+树相对于B树在外存储索引结构上更适合的原因主要包括以下几个方面：

1. 叶节点链表的优势
B+树的所有数据都存储在叶子节点中，并且叶子节点之间通过链表相连。这带来了几个重要优势：

范围查询效率高：在进行范围查询时，可以通过链表快速遍历叶子节点，避免了频繁的树结构遍历。这对数据库中的范围查询（例如BETWEEN操作）非常有利。
顺序访问更快：由于B+树的叶子节点是顺序连接的，可以更高效地进行顺序扫描和批量读取操作。
2. 非叶子节点不存储数据
B+树的非叶子节点只存储键值而不存储实际数据，因此每个节点可以包含更多的键值。这带来了以下好处：

更高的扇出率：因为每个节点可以包含更多的键值，树的高度会更低，从而减少了磁盘I/O操作次数。磁盘I/O是外存储中性能的关键因素，因此更高的扇出率意味着更少的磁盘访问次数。
更少的磁盘块占用：非叶子节点不存储数据，减少了磁盘块的占用率，进一步提升了检索和更新的效率。
3. 数据有序性和批量操作
数据有序性：由于叶子节点之间通过链表连接，数据在逻辑上是有序的。这使得B+树在处理有序数据时非常高效，尤其是对于顺序插入、删除操作。
批量读取和写入：在数据库和文件系统中，批量操作（例如批量读取或批量写入）是很常见的需求。B+树的结构使得这些操作可以在较少的磁盘I/O下完成。
4. 更好的缓存命中率
由于B+树的非叶节点只存储键值，可以容纳更多的键值，减少了树的高度。这使得更多的非叶节点可以被缓存在内存中，提高了缓存命中率，从而减少了磁盘访问次数。

5. 插入和删除操作的优化
插入操作：在B+树中，插入操作通常只涉及叶子节点和少量的非叶子节点。这减少了树结构的调整范围，提升了插入效率。
删除操作：类似地，删除操作主要影响叶子节点，非叶子节点的结构变化较少，使得删除操作的成本降低。
总结
B+树在外存储索引结构上比B树更适合的主要原因可以归结为以下几点：

叶子节点链表带来的范围查询和顺序访问效率。
非叶子节点不存储数据，提高了扇出率，减少了树的高度。
数据有序性和批量操作的优化。
更高的缓存命中率。
插入和删除操作的优化。
这些特性共同使得B+树在处理大规模数据和外存储环境下表现得更加高效。
````

`因为所有辅助索引都引用主索引，过长的主索引会令辅助索引变得过大`
